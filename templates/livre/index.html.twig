{% extends 'base.html.twig' %}

{% block title %}Hello LivreController!{% endblock %}

{% block stylesheets %}

    <link rel="stylesheet" href="{{ asset('livre_style.css') }}">


{% endblock %}

{% block body %}

    <div class="container-fluid">
        <div class="row">
            <div class="col-sm col-md-3">
                <div class="text-center">
                    <img  id="b"  class="rounded img-responsive float-center img-thumbnail"
                          src="{{ extract(null) }}"
                          alt=" image missing" style="vertical-align:middle; height:400px">
                </div>
            </div>

            <div class="col-sm">
                <table  id="" class="table table-bordered" cellspacing="0" width="100%">

                    <tr size="20px">
                        <th>Titre: </th>
                        <td> {{ book.title }}</td>
                    </tr>
                    <tr>
                        <th>Description: </th>
                        <td> {{ book.description }}</td>
                    </tr>
                    <tr>
                        <th>Auteur: </th>
                        <td> {{ book.author}} </td>
                    </tr>
                    <tr>
                        <th>Année: </th>
                        <td> {{ book.year}} </td>
                    </tr>
                    <tr>
                        <th>Catégorie </th>
                        <td> {{ book.category}} </td>
                    </tr>
                    <tr>
                        <th>Nombre des échanges: </th>
                        <td> {{ exchangesNumber}} </td>
                    </tr>
                    <tr>
                        <th>Nombre des pages: </th>
                        <td> {{ book.pagesNumber }} </td>
                    </tr>
                    <tr>
                        <th>Evaluation: </th>
                        <td> {% if note == null %}
                                {{ "No note Given" }}
                            {% else %}
                                {{ note }}
                            {% endif %} </td>
                    </tr>

                </table>
            </div>
        </div>
        <hr>
        <div class="row">
            <h2 class="col-sm col-md-3 text-center">Owners</h2>
            <div class="col-sm">
                <table id="userTable" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
                    <thead>
                    <tr>
                        <th class="th-sm">Nom

                        </th>
                        <th class="th-sm">Prenom

                        </th>
                        <th class="th-sm">Addresse

                        </th>
                        <th class="th-sm">Note

                        </th>
                        <th class="th-sm">Action

                        </th>
                    </tr>
                    </thead>
                    <tbody>
                    {% if users is not empty %}

                        {% for cat in users %}
                            <tr>
                                <td>{{ cat.firstName }}</td>
                                <td>{{ cat.lastName }} <i class="i-pc"></i></td>
                                <td>{{ cat.email }}</td>
                                <td>{{ cat.note }} </td>
                                <td class="tar">

                                    <button type="button" class="btn btn-danger btn-sm m-0">Demander Echange</button>
                                    <button type="button" class="btn btn-outline-primary btn-sm m-0">Void Profil</button>
                                </td>
                            </tr>

                        {% endfor %}
                    {% else %}
                        <tr>
                            <td  colspan="4">Ce livre n'est rattaché à aucune catégorie.</td>
                        </tr>
                    {% endif %}
                    </tbody>
                </table>
            </div>

        </div>
        <hr>
        <div class="row">
            <h2 class="col-sm col-md-3 text-center">Followers</h2>
            <div class="col-sm">
                <table id="followerTable" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
                    <thead>
                    <tr>
                        <th class="th-sm">Nom

                        </th>
                        <th class="th-sm">Prenom

                        </th>
                        <th class="th-sm">Addresse

                        </th>
                        <th class="th-sm">Note

                        </th>
                        <th class="th-sm">Action </th>
                    </tr>
                    </thead>
                    <tbody>
                    {% if followers is not empty %}

                        {% for cat in followers %}
                            <tr>
                                <td>{{ cat.firstName }}</td>
                                <td>{{ cat.lastName }} <i class="i-pc"></i></td>
                                <td>{{ cat.email }}</td>
                                <td>{{ cat.note }} </td>

                                <td class="tar">

                                    <button type="button" class="btn btn-danger btn-sm m-0">Demander Echange</button>
                                    <button type="button" class="btn btn-outline-primary btn-sm m-0">Void Profil</button>
                                </td>
                            </tr>

                        {% endfor %}
                    {% else %}
                        <tr>
                            <td  colspan="4">Ce livre n'est rattaché à aucune catégorie.</td>
                        </tr>
                    {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>


    <h2>Similar books</h2>

    <div class="liste_possesseurs float-left">

        <div class="card-deck">

            {% for book in semilaires %}

            <a href="#" class="movie float-left" >
                <div class="card" >

                    <div class="card-body"> <img class="card-img-top "src="//pic.egybest.net/i/RHNhSUNlY21URW1wWUVtTGNFY2FteGptdm1qbUlhdmM.jpg" alt="Card image cap">
                    </div>
                    <div class="card-header">
                        <h5 class="card-title text-center">{{ book.getTitle }}</h5>
                    </div>
                </div>

            </a>
        </div>
        {% endfor %}
</div>



    </div>


    </div>


    </div>



{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script >
        $(document).ready(function () {
            $('#userTable').DataTable();
            $('.dataTables_length').addClass('bs-select');
        });
        $(document).ready(function () {
            $('#followerTable').DataTable();
            $('.dataTables_length').addClass('bs-select');
        });
    </script>
{% endblock %}